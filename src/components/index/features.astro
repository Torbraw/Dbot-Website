---
import i18next, { t } from 'i18next';
import { Trans } from 'astro-i18next/components';
import { Icon } from 'astro-icon';
import ContentSection from './content-section.astro';
import type { FeatureItem } from '../../types';
import Link from '../common/link.astro';

const currentLanguage = i18next.language;

const features: Array<FeatureItem> = [
  {
    title: t('features.equipments.title'),
    description: t('features.equipments.desc'),
    icon: 'ph:sword-light',
  },
  {
    title: t('features.pve.title'),
    description: t('features.pve.desc'),
    icon: 'ph:alien-light',
  },
  {
    title: t('features.pvp.title'),
    description: t('features.pvp.desc'),
    icon: 'akar-icons:double-sword',
  },
  {
    title: t('features.quests.title'),
    description: t('features.quests.desc'),
    icon: 'ic:outline-menu-book',
  },
  {
    title: t('features.enchantments.title'),
    description: t('features.enchantments.desc'),
    icon: 'bi:gem',
  },
  {
    title: t('features.achievements.title'),
    description: t('features.achievements.desc'),
    icon: 'ph:trophy-light',
  },
];
---

<ContentSection title={t('features.title')}>
  <Fragment slot="main">
    <Trans i18nKey="features.desc"><span class="text-primary"></span></Trans>
  </Fragment>
  <ul class="grid max-w-6xl grid-cols-1 md:grid-cols-2 lg:grid-cols-3">
    {
      features.map(({ title, description, icon }) => (
        <li class="flex flex-col items-center gap-4 border border-default bg-offset p-6">
          <div class="h-16 w-16 rounded-full border-2 border-current p-3">
            <Icon name={icon} />
          </div>
          <p class="text-center text-xl font-extrabold sm:text-2xl">{title}</p>
          <p class="text-center text-sm text-offset sm:text-base">{description}</p>
        </li>
      ))
    }
  </ul>
  <span class="!mt-0 w-full max-w-6xl text-right text-sm">
    <Link href={`/${currentLanguage}/documentation/introduction`} isPrimary={true}>
      {t('features.seeDocumentation')}
    </Link>
  </span>
</ContentSection>
