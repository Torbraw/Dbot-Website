---
import i18next, { t } from 'i18next';
import { Trans } from 'astro-i18next/components';
import { Icon } from 'astro-icon';
import ContentSection from './content-section.astro';
import type { FeatureItem } from '../../types';
import Link from '../common/link.astro';

const currentLanguage = i18next.language;

const features: Array<FeatureItem> = [
  {
    title: 'Bring Your Own Framework',
    description:
      "Build your site using React, Svelte, Vue, Preact, web components, or just plain ol' HTML + JavaScript.",
    icon: 'mdi:handshake',
  },
  {
    title: '100% Static HTML, No JS',
    description:
      'Astro renders your entire page to static HTML, removing all JavaScript from your final build by default.',
    icon: 'mdi:feather',
  },
  {
    title: 'On-Demand Components',
    description:
      'Need some JS? Astro can automatically hydrate interactive components when they become visible on the page. If the user never sees it, they never load it.',
    icon: 'mdi:directions-fork',
  },
  {
    title: 'Broad Integration',
    description:
      'Astro supports TypeScript, Scoped CSS, CSS Modules, Sass, Tailwind, Markdown, MDX, and any of your favorite npm packages.',
    icon: 'mdi:graph',
  },
  {
    title: 'SEO Enabled',
    description: 'Automatic sitemaps, RSS feeds, pagination and collections take the pain out of SEO and syndication.',
    icon: 'mdi:search-web',
  },
  {
    title: 'Community',
    description:
      'Astro is an open source project powered by hundreds of contributors making thousands of individual contributions.',
    icon: 'mdi:account-group',
  },
];
---

<ContentSection title={t('features.title')}>
  <Fragment slot="main">
    <Trans i18nKey="features.desc"><span class="text-primary"></span></Trans>
  </Fragment>
  <ul class="grid max-w-6xl grid-cols-1 md:grid-cols-2 lg:grid-cols-3">
    {
      features.map(({ title, description, icon }) => (
        <li class="flex flex-col items-center gap-4 border border-default bg-offset p-6">
          <div class="h-16 w-16 rounded-full border-2 border-current p-3">
            <Icon name={icon} />
          </div>
          <p class="text-center text-xl font-extrabold sm:text-2xl">{title}</p>
          <p class="text-center text-sm text-offset sm:text-base">{description}</p>
        </li>
      ))
    }
  </ul>
  <span class="!mt-0 w-full text-right text-sm">
    <Link class="text-primary" href={`/${currentLanguage}/docs`}>{t('features.seeDocs')}</Link>
  </span>
</ContentSection>
